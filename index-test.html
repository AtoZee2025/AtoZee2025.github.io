<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>A Seat at the Feast</title>
  <meta name="theme-color" content="#ffffff">
  <style>
    :root{
      --bg:#f7f7fb; --card:#ffffff; --ink:#111827; --muted:#6b7280;
      --accent:#4f46e5; --accent-ink:#ffffff; --radius:16px; --shadow:0 10px 20px -10px rgba(0,0,0,.2);
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{ margin:0; font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:var(--bg); color:var(--ink); }
    .container{max-width:960px;margin:0 auto;padding:24px}
    .app{ background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow); padding:clamp(16px,4vw,28px) }
    header{ display:flex; flex-wrap:wrap; gap:12px; align-items:center; justify-content:space-between; margin-bottom:16px }
    .brand{ display:flex; gap:12px; align-items:center }
    .brand .emoji{ font-size:28px }
    .brand h1{ font-size:18px; margin:0; line-height:1.2 }
    .brand p{ margin:0; color:var(--muted); font-size:12px }
    input[type="search"]{ width:100%; padding:14px 16px; border-radius:12px; border:1px solid #e5e7eb; font-size:16px; outline:none }
    .pill{ display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; font-size:12px; background:#f3f4f6; color:#374151; border:1px solid #e5e7eb }
    .row{ display:flex; gap:10px; align-items:center; flex-wrap:wrap }
    .hint{ color:var(--muted); font-size:12px }
    .results{ margin-top:14px; display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:12px }
    .card{ border:1px solid #e5e7eb; border-radius:14px; background:#fff; padding:14px; display:flex; flex-direction:column; gap:8px; cursor:pointer }
    .name{ font-weight:700; font-size:16px }
    .meta{ color:var(--muted); font-size:12px }
    .badge{ font-size:12px; padding:4px 8px; border-radius:999px; background:#eef2ff; color:#3730a3; display:inline-block }
    .footer{ margin-top:18px; color:var(--muted); font-size:12px; text-align:center }
    .detail{ position:fixed; inset:0; background:rgba(17,24,39,.5); display:none; align-items:center; justify-content:center; padding:16px }
    .detail.open{ display:flex }
    .sheet{ width:min(560px,100%); background:#fff; border-radius:16px; padding:18px; border:1px solid #e5e7eb; box-shadow:var(--shadow); max-height:90vh; overflow:auto }
    .sheet h2{ margin:0 0 8px 0 }
    .sheet .table{ font-weight:700; font-size:18px }
    .sheet .sub{ color:var(--muted); font-size:13px; margin-bottom:8px }
    .sheet .close{ float:right }
    .divider{ height:1px; background:#e5e7eb; margin:10px 0 }
    .hidden{ display:none }
    /* Nice entrance */
    .card{ opacity:0; transform:translateY(6px); animation:cardIn .35s both; }
    .card:nth-child(2){ animation-delay:.04s } .card:nth-child(3){ animation-delay:.08s } .card:nth-child(4){ animation-delay:.12s }
    @keyframes cardIn{ to{ opacity:1; transform:none } }
  </style>
</head>
<body>
  <div class="container">
    <div class="app" role="application" aria-label="A Seat at the Feast">
      <header>
        <div class="brand">
          <div class="emoji" aria-hidden="true">üíí</div>
          <div>
            <h1 id="eventTitle">A Seat at the Feast üç¥üòã</h1>
            <p id="eventSub" class="hint">Scan, search your name, tap to see your seat ‚ú®</p>
          </div>
        </div>
      </header>

      <div class="row">
        <input id="search" type="search" inputmode="search" aria-label="Search guests" placeholder="Search for your name‚Ä¶" autofocus />
      </div>
      <div class="hint">Tip: Try your first or last name. Accents and nicknames work too.</div>

      <div id="results" class="results" role="list"></div>

      <div class="footer">
        <div class="hint" style="margin-top:8px">
          From Annie & George: Thank you for joining us! üíû
        </div>
      </div>
    </div>
  </div>

  <div class="detail" id="detail" role="dialog" aria-modal="true" aria-labelledby="detailTitle">
    <div class="sheet">
      <button class="close" id="closeDetail" aria-label="Close">‚úï</button>
      <h2 id="detailTitle">Guest</h2>
      <div class="sub" id="detailSub"></div>
      <div class="divider"></div>
      <div class="table">Table: <span id="detailTable"></span> <span id="detailSeat" class="badge hidden"></span></div>
      <div><strong>Dietary Restrictions:</strong> <span id="detailDietary" class="meta"></span></div>
    </div>
  </div>

  <script>
    // === Embedded guest list ===
    const EMBEDDED = [
{name:"Sally Moy", table:"Table 3", seat:"", group:"", side:"Bride Side", dietary:"N/a"},
{name:"Wilson Sit", table:"Table 3", seat:"", group:"", side:"Bride Side", dietary:"N/a"},
{name:"Sabrina Duong", table:"Table 4", seat:"", group:"", side:"Bride Side", dietary:""},
{name:"David Hong", table:"Table 4", seat:"", group:"", side:"Bride Side", dietary:""},
{name:"Yannie Lai", table:"Table 3", seat:"", group:"", side:"Bride Side", dietary:"Nothing"},
{name:"Jonathan Duong", table:"Table 3", seat:"", group:"", side:"Bride Side", dietary:"Nothing"},
{name:"Jennifer Cheng", table:"Table 3", seat:"", group:"", side:"Bride Side", dietary:"None"},
{name:"Leon Poon", table:"Table 3", seat:"", group:"", side:"Bride Side", dietary:"None"},
{name:"Janet Zhen", table:"Table 3", seat:"", group:"", side:"Bride Side", dietary:"None"},
{name:"Alex Pan", table:"Table 3", seat:"", group:"", side:"Bride Side", dietary:"None"},
{name:"Greg Chua", table:"Table 4", seat:"", group:"", side:"Bride Side", dietary:"None"},
{name:"Carol Zhang", table:"Table 4", seat:"", group:"", side:"Bride Side", dietary:"None"},
{name:"Charles Ko", table:"Table 5", seat:"", group:"", side:"Bride Side", dietary:""},
{name:"Sahar Salimi-Mosavi", table:"Table 4", seat:"", group:"", side:"Bride Side", dietary:"No seafood"},
{name:"Arian Khorshid", table:"Table 4", seat:"", group:"", side:"Bride Side", dietary:"No"},
{name:"Vivian Feng", table:"Table 3", seat:"", group:"", side:"Bride Side", dietary:"None"},
{name:"Grace Ma", table:"Table 3", seat:"", group:"", side:"Bride Side", dietary:"None"},
{name:"Emily Chan", table:"Table 5", seat:"", group:"", side:"Bride Side", dietary:"Fish"},
{name:"Michelle Leung", table:"Table 5", seat:"", group:"", side:"Bride Side", dietary:"None"},
{name:"Saranya Sivakumar", table:"Table 5", seat:"", group:"", side:"Bride Side", dietary:"Peanuts, cashews, pistachios"},
{name:"Aarushi Taneja", table:"Table 5", seat:"", group:"", side:"Bride Side", dietary:"Vegetarian"},
{name:"Andrew Scott", table:"Table 5", seat:"", group:"", side:"Bride Side", dietary:""},
{name:"Marie-Michelle Dussault", table:"Table 5", seat:"", group:"", side:"Bride Side", dietary:""},
{name:"Archie Meng", table:"Table 5", seat:"", group:"", side:"Bride Side", dietary:""},
{name:"Fareha Hassan", table:"Table 5", seat:"", group:"", side:"Bride Side", dietary:"halal or vegetarian :)"},
{name:"Haider Anees", table:"Table 5", seat:"", group:"", side:"Bride Side", dietary:"halal or vegetarian :)"},
{name:"Paul Bozek", table:"Table 5", seat:"", group:"", side:"Bride Side", dietary:""},
{name:"Mary Lynn Van-Lankveld", table:"Table 7", seat:"", group:"", side:"Bride Side", dietary:"None"},
{name:"Jon Ponder", table:"Table 7", seat:"", group:"", side:"Bride Side", dietary:"None"},
{name:"Jasmine Chong", table:"Table 4", seat:"", group:"", side:"Bride Side", dietary:""},
{name:"Marcus Sheppard", table:"Table 4", seat:"", group:"", side:"Bride Side", dietary:""},
{name:"Tracy Chang", table:"Table 5", seat:"", group:"", side:"Bride Side", dietary:"N/A"},
{name:"Clement Chan", table:"Table 6", seat:"", group:"", side:"Groom Side", dietary:"People"},
{name:"Laetitia Chan", table:"Table 6", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Fraser Ching", table:"Table 6", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Joanna Le", table:"Table 6", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"ANDY HUANG", table:"Table 6", seat:"", group:"", side:"Groom Side", dietary:"Good food"},
{name:"David Trinh", table:"Table 6", seat:"", group:"", side:"Groom Side", dietary:"none"},
{name:"Amy Trinh", table:"Table 6", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"David Ly", table:"Table 6", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Thomas Chan", table:"Table 4", seat:"", group:"", side:"Groom Side", dietary:"No seafood"},
{name:"Ivan Lam", table:"Table 4", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Ashley Yoon", table:"Table 4", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Daniel Jiang", table:"Table 6", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"K K", table:"Table 6", seat:"", group:"", side:"Groom Side", dietary:"Dairy"},
{name:"Vanessa Marcial", table:"Table 8", seat:"", group:"", side:"Groom Side", dietary:"N/A"},
{name:"Lawrence Fraginal", table:"Table 8", seat:"", group:"", side:"Groom Side", dietary:"N/A"},
{name:"Ian Cayco", table:"Table 8", seat:"", group:"", side:"Groom Side", dietary:"Shellfish allergy, seafood aversion"},
{name:"Blesy Gallardo", table:"Table 8", seat:"", group:"", side:"Groom Side", dietary:"N/A"},
{name:"John Vu", table:"Table 8", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Ann Vu", table:"Table 8", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Ibrahim Raza", table:"Table 7", seat:"", group:"", side:"Groom Side", dietary:"Halal"},
{name:"Gerianne Lozada", table:"Table 8", seat:"", group:"", side:"Groom Side", dietary:"N/a i love food"},
{name:"Samuel Batarra", table:"Table 8", seat:"", group:"", side:"Groom Side", dietary:"N/a"},
{name:"Angela Chang", table:"Table 4", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Patrick Chang", table:"Table 6", seat:"", group:"", side:"Groom Side", dietary:"Lobsters that have to be at least 2kgs farm to table fresh, micro greens and the only red meat that is allowed to enter my body is wagyuu."},
{name:"Adam Dudzinski", table:"", seat:"", group:"", side:"", dietary:""},
{name:"Troy Reed", table:"", seat:"", group:"", side:"", dietary:""},
{name:"Richard To", table:"Table 6", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Stephen Ly", table:"Table 8", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Liliana Lin", table:"Table 8", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Kesavan Jeyaveerasingam", table:"Table 7", seat:"", group:"", side:"Bride Side", dietary:""},
{name:"Thushara Sivana", table:"Table 7", seat:"", group:"", side:"Bride Side", dietary:""},
{name:"Michael Zee", table:"Table 1", seat:"", group:"", side:"Groom Side", dietary:"n/a"},
{name:"Heaven Del Mundo", table:"Table 1", seat:"", group:"", side:"Groom Side", dietary:"n/a"},
{name:"Linda Zee", table:"Table 1", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Jing Zee", table:"Table 1", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Mrs Wang", table:"Table 2", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Li Chen", table:"Table 2", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Yi'an Zhu", table:"Table 2", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Yiming Cao", table:"Table 2", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Zhiwei Cao", table:"Table 2", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Guojun Xu", table:"Table 2", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Lin Huang", table:"Table 2", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Jim Dai", table:"Table 2", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Mr Wang", table:"Table 2", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Judy Jiang", table:"Table 1", seat:"", group:"", side:"Bride Side", dietary:""},
{name:"Chen Zhan", table:"Table 1", seat:"", group:"", side:"Bride Side", dietary:""},
{name:"Donglin Jiang", table:"Table 1", seat:"", group:"", side:"Bride Side", dietary:""},
{name:"Amruta Chendke", table:"Table 7", seat:"", group:"", side:"Groom Side", dietary:""},
{name:"Alexander Fiscalini", table:"Table 7", seat:"", group:"", side:"Groom Side", dietary:""},

    ];

    const $ = sel => document.querySelector(sel);
    const norm = s => (s||"").toString().toLowerCase().normalize('NFD').replace(/\p{Diacritic}/gu,'').replace(/\s+/g,' ').trim();
    const debounce = (fn, ms=150) => { let t; return (...args)=>{ clearTimeout(t); t=setTimeout(()=>fn(...args), ms); }; };

    let GUESTS = [];
    let FILTERED = [];

    function render(){
      const list = $("#results"); list.innerHTML="";
      FILTERED.forEach(g=>{
        const card = document.createElement('div');
        card.className = 'card'; card.setAttribute('role','listitem');
        card.onclick = ()=> openDetail(g.id);
        const name = Object.assign(document.createElement('div'), {className:'name', textContent:g.name});
        const metaText = [g.group, g.side].filter(Boolean).join(" ‚Ä¢ ");
        if(metaText){
          const meta = Object.assign(document.createElement('div'), {className:'meta', textContent: metaText});
          card.appendChild(meta);
        }
        const row = Object.assign(document.createElement('div'), {className:'row'});
        const b1 = Object.assign(document.createElement('span'), {className:'badge', textContent: g.table || "Unassigned"});
        row.appendChild(b1);
        if(g.seat){ const b2 = Object.assign(document.createElement('span'), {className:'badge', textContent:"Seat "+g.seat}); row.appendChild(b2); }
        card.appendChild(name);
        card.appendChild(row);
        list.appendChild(card);
      });
    }

    function openDetail(id){
      const g = GUESTS.find(x=>x.id===id); if(!g) return;
      $("#detailTitle").textContent = g.name;
      $("#detailSub").textContent = [g.group, g.side].filter(Boolean).join(" ‚Ä¢ ") || "Guest";
      $("#detailTable").textContent = g.table || "Unassigned";
      const seat = $("#detailSeat");
      if(g.seat){ seat.textContent = "Seat "+g.seat; seat.classList.remove("hidden"); } else { seat.classList.add("hidden"); }
      $("#detailDietary").textContent = g.dietary || "‚Äî";
      $("#detail").classList.add('open');
    }
    function closeDetail(){ $("#detail").classList.remove('open'); }
    $("#closeDetail").onclick = closeDetail;
    $("#detail").addEventListener('click', (e)=>{ if(e.target.id==="detail") closeDetail(); });

    function applyFilter(q){
      const nq = norm(q);
      if(!nq){ FILTERED = [...GUESTS]; }
      else{
        FILTERED = GUESTS.filter(g=>{
          const hay = [g.name, g.group, g.side, g.table, g.seat].map(norm).join(" ");
          return nq.split(" ").every(tok=> hay.includes(tok));
        });
      }
      render();
    }
    const onSearch = debounce(e=> applyFilter(e.target.value), 100);
    $("#search").addEventListener('input', onSearch);

    function loadGuests(items){
      GUESTS = items.map(g=>({ ...g, id: norm(g.name + '|' + (g.seat||'') + '|' + (g.table||'')) }));
      FILTERED = [...GUESTS];
      render();
    }

    (function init(){
      loadGuests(EMBEDDED);
      setTimeout(()=> $("#search").focus(), 300);
    })();
  </script>
</body>
</html>